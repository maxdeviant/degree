
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
<title>Data Structures - Java Sorting Basics</title>
<link rel="stylesheet" type="text/css" href="/~rkline/css/basic.css" />
<link rel="stylesheet" type="text/css" href="/~rkline/css/init.css" />
<link href="/~rkline/images/favicon.ico" rel="shortcut icon" type="image/icon" />
<link href="/~rkline/css/java.css" media="all" rel="stylesheet" type="text/css" />
<style type="text/css" media="print">
/* override other settings to make print-friendly appearance */
body { padding: 10px 20px; }
.print_hide { display: none; }
div.print_only { display: block; }
#header { margin-top: 0px; height: 30px; }
#content { margin-top: 25px; }
</style>
</head>
<body>

<div id="header">
<h2 style='margin:0'>
Java Sorting Basics</h2>
<div id="mtime">last modified: Jan 13, 2012</div>

<div id="toggle_all" class='print_hide'>
<a href="#">
toggle show-hides
</a>
</div>



<div id="sections" class='print_hide'>
<select name="sections">
<option value="">--- select a section ---</option>
<option value="#java">Sorting in Java</option>
<option value="#demo">Demo Programs</option>
<option value="#user-defined">User-defined classes/Stability</option>
</select>
</div>

</div>

<div id="content">

Sorting is one of the most common complex operations used.
Database systems make use of sorting as a common method
for data presentation to the user interface.

<h3><a name="java"></a>Sorting in Java</h3>

Java provides two built-in ways to do sorting:
<ul class="notes">
<li>
using the <tt>Arrays.sort</tt> function on an array.
<li>
using the <tt>Collections.sort</tt> function on a List.
</ul>
The descriptions of these algorithms and their usage
can be seen in the 
<i>Java Data Structures (java.util)</i>
document in the
<a href="../Java/data-structures.html#arrays">Arrays</a> 
and <a href="../Java/data-structures.html#collections">Collections</a> sections, respectively.
<p></p>
For an array, <tt>A</tt>, of any primitive types or any 
<tt>Object</tt> type, these are supported:
<pre class="lh3 n">
Arrays.sort(A);
Arrays.sort(A, fromIndex, toIndex);
</pre>
The <tt>Arrays.sort</tt> function also gives
the ability to sort a range between two indices. 

The "<tt>toIndex</tt>" argument name is misleading since the sort
range is really between 
<tt>fromIndex</tt> and <tt>toIndex &#150; 1</tt>, inclusive.
Thus these two calls are equivalent:
<pre class="lh3 n">
Arrays.sort(A);      <span class="ssf">is the same as</span>       Arrays.sort(A, 0, A.length);
</pre>
For a list, <tt>L</tt>, of <tt>Comparable</tt> elements, this is defined:
<pre class='n'>
Collections.sort(L);
</pre>

<h4>Comparison</h4>

When no <tt>Comparator</tt> object is passed to a sort algorithm, 
sorting is done using the "natural order" of supposedly
Comparable elements as defined by the <tt>compareTo</tt> function.
The <tt>Collections.sort</tt> does a type-check that the elements
are Comparable, but 
<tt>Arrays.sort</tt> can only do a run-time check.

All other sorting is done using
a <tt>Comparator</tt> object, <tt>cmp</tt>,
passed to the <tt>sort</tt> function.
Here are the relevant calls:
<pre class="lh3 n">
Arrays.sort(A, cmp);
Arrays.sort(A, fromIndex, toIndex, cmp);
Collections.sort(L, cmp);
</pre>

<h3><a name="demo"></a>Demo Programs</h3>

Create the NetBeans project 
<tt class="file">SortDemo</tt>
which with a Main class into which you can install and run these
test programs. The only other thing you'll need is

<div class='format_display'>
<span></span>
<pre class="java"><span class="kw1">import</span> <span class="co2">java.util.*</span><span class="sy0">;</span></pre></div>

At that point add the following code sections below and set the main function:
<div class='format_display'>
<span></span>
<pre class="java"><span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">&#40;</span><span class="kw3">String</span><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
  mainBasic<span class="br0">&#40;</span>args<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="co1">//  mainComparator(args);</span>
<span class="co1">//  mainStable(args);</span>
<span class="br0">&#125;</span></pre></div>
With all this in place, selectively run each main function.


<h4>Basic Example</h4>
This first example shows the sorting of an array or list
of Integers
using the natural order:
<div class='format_display'>
<span></span>
<pre class="java">  <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> mainBasic<span class="br0">&#40;</span><span class="kw3">String</span><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw3">Integer</span><span class="br0">&#91;</span><span class="br0">&#93;</span> A <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Integer</span><span class="br0">&#91;</span><span class="nu0">20</span><span class="br0">&#93;</span>, B <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Integer</span><span class="br0">&#91;</span><span class="nu0">20</span><span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">Random</span> r <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Random</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> A.<span class="me1">length</span><span class="sy0">;</span> <span class="sy0">++</span>i<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      A<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> B<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Integer</span><span class="br0">&#40;</span>r.<span class="me1">nextInt</span><span class="br0">&#40;</span><span class="nu0">40</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    List<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span> L <span class="sy0">=</span> <span class="kw1">new</span> ArrayList<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="kw3">Arrays</span>.<span class="me1">asList</span><span class="br0">&#40;</span>A<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;A:        &quot;</span> <span class="sy0">+</span> <span class="kw3">Arrays</span>.<span class="me1">toString</span><span class="br0">&#40;</span>A<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw3">Arrays</span>.<span class="me1">sort</span><span class="br0">&#40;</span>A<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;A sorted: &quot;</span> <span class="sy0">+</span> <span class="kw3">Arrays</span>.<span class="me1">toString</span><span class="br0">&#40;</span>A<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;B:              &quot;</span> <span class="sy0">+</span> <span class="kw3">Arrays</span>.<span class="me1">toString</span><span class="br0">&#40;</span>B<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw3">Arrays</span>.<span class="me1">sort</span><span class="br0">&#40;</span>B,<span class="nu0">3</span>,<span class="nu0">7</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;B sorted (3,7): &quot;</span> <span class="sy0">+</span> <span class="kw3">Arrays</span>.<span class="me1">toString</span><span class="br0">&#40;</span>B<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;L:        &quot;</span> <span class="sy0">+</span> L<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw3">Collections</span>.<span class="me1">sort</span><span class="br0">&#40;</span>L<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;L sorted: &quot;</span> <span class="sy0">+</span> L<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span></pre></div>

<h4>Using a comparator</h4>
This second example shows the sorting of an array or list
of Integers using a comparator.
The comparator makes the <tt>Integer</tt> comparsion like <tt>String</tt>
comparison.
<div class='format_display'>
<span></span>
<pre class="java">  <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> mainComparator<span class="br0">&#40;</span><span class="kw3">String</span><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw3">Integer</span><span class="br0">&#91;</span><span class="br0">&#93;</span> A <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Integer</span><span class="br0">&#91;</span><span class="nu0">20</span><span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">Random</span> r <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Random</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> A.<span class="me1">length</span><span class="sy0">;</span> <span class="sy0">++</span>i<span class="br0">&#41;</span> <span class="br0">&#123;</span>
      A<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Integer</span><span class="br0">&#40;</span>r.<span class="me1">nextInt</span><span class="br0">&#40;</span><span class="nu0">20</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    Comparator<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span> cmp <span class="sy0">=</span> <span class="kw1">new</span> Comparator<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
      @Override
      <span class="kw1">public</span> <span class="kw4">int</span> compare<span class="br0">&#40;</span><span class="kw3">Integer</span> lhs, <span class="kw3">Integer</span> rhs<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> lhs.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">compareTo</span><span class="br0">&#40;</span>rhs.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="br0">&#125;</span>
    <span class="br0">&#125;</span><span class="sy0">;</span>
&nbsp;
    List<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span> L <span class="sy0">=</span> <span class="kw1">new</span> ArrayList<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="kw3">Arrays</span>.<span class="me1">asList</span><span class="br0">&#40;</span>A<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;A: &quot;</span> <span class="sy0">+</span> <span class="kw3">Arrays</span>.<span class="me1">toString</span><span class="br0">&#40;</span>A<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw3">Arrays</span>.<span class="me1">sort</span><span class="br0">&#40;</span>A, cmp<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;A: &quot;</span> <span class="sy0">+</span> <span class="kw3">Arrays</span>.<span class="me1">toString</span><span class="br0">&#40;</span>A<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;L: &quot;</span> <span class="sy0">+</span> L<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw3">Collections</span>.<span class="me1">sort</span><span class="br0">&#40;</span>L, cmp<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span><span class="st0">&quot;L: &quot;</span> <span class="sy0">+</span> L<span class="br0">&#41;</span><span class="sy0">;</span>
  <span class="br0">&#125;</span></pre></div>

<h3><a name="user-defined"></a>User-defined classes/Stability</h3>

This third example illustrates how sorting can be done on any
user-defined class whatsoever by defining a suitable comparator
for the class. The class we define
called <tt>Email</tt> has data values consisting of a 
<tt>String from</tt> and an <tt>Date time</tt>.
This program illustrates sorting in two ways, based on these
two fields.
<div class='format_display'>
<span></span>
<pre class="java">  <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw1">class</span> Email <span class="br0">&#123;</span>
    <span class="kw3">String</span> from<span class="sy0">;</span>
    <span class="kw3">Date</span> time<span class="sy0">;</span>
&nbsp;
    Email<span class="br0">&#40;</span> <span class="kw3">String</span> from, <span class="kw3">Date</span> time <span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="kw1">this</span>.<span class="me1">from</span> <span class="sy0">=</span> from<span class="sy0">;</span> <span class="kw1">this</span>.<span class="me1">time</span> <span class="sy0">=</span> time<span class="sy0">;</span> <span class="br0">&#125;</span>
&nbsp;
    @Override
    <span class="kw1">public</span> <span class="kw3">String</span> toString<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="kw1">return</span> from <span class="sy0">+</span> <span class="st0">&quot; : &quot;</span> <span class="sy0">+</span> time<span class="sy0">;</span> <span class="br0">&#125;</span>
  <span class="br0">&#125;</span>
&nbsp;
  <span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> mainStable<span class="br0">&#40;</span><span class="kw3">String</span><span class="br0">&#91;</span><span class="br0">&#93;</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
    Email E<span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw1">new</span> Email<span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="br0">&#123;</span>
      <span class="kw1">new</span> Email<span class="br0">&#40;</span> <span class="st0">&quot;bob&quot;</span>,   <span class="kw1">new</span> <span class="kw3">GregorianCalendar</span><span class="br0">&#40;</span><span class="nu0">2008</span>, <span class="nu0">10</span>, <span class="nu0">19</span><span class="br0">&#41;</span>.<span class="me1">getTime</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span>,
      <span class="kw1">new</span> Email<span class="br0">&#40;</span> <span class="st0">&quot;john&quot;</span>,  <span class="kw1">new</span> <span class="kw3">GregorianCalendar</span><span class="br0">&#40;</span><span class="nu0">2008</span>, <span class="nu0">10</span>, <span class="nu0">15</span><span class="br0">&#41;</span>.<span class="me1">getTime</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span>,
      <span class="kw1">new</span> Email<span class="br0">&#40;</span> <span class="st0">&quot;steve&quot;</span>, <span class="kw1">new</span> <span class="kw3">GregorianCalendar</span><span class="br0">&#40;</span><span class="nu0">2008</span>, <span class="nu0">10</span>, <span class="nu0">14</span><span class="br0">&#41;</span>.<span class="me1">getTime</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span>,
      <span class="kw1">new</span> Email<span class="br0">&#40;</span> <span class="st0">&quot;john&quot;</span>,  <span class="kw1">new</span> <span class="kw3">GregorianCalendar</span><span class="br0">&#40;</span><span class="nu0">2008</span>, <span class="nu0">10</span>, <span class="nu0">18</span><span class="br0">&#41;</span>.<span class="me1">getTime</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span>,
      <span class="kw1">new</span> Email<span class="br0">&#40;</span> <span class="st0">&quot;bob&quot;</span>,   <span class="kw1">new</span> <span class="kw3">GregorianCalendar</span><span class="br0">&#40;</span><span class="nu0">2008</span>, <span class="nu0">10</span>, <span class="nu0">16</span><span class="br0">&#41;</span>.<span class="me1">getTime</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span>,
      <span class="kw1">new</span> Email<span class="br0">&#40;</span> <span class="st0">&quot;bob&quot;</span>,   <span class="kw1">new</span> <span class="kw3">GregorianCalendar</span><span class="br0">&#40;</span><span class="nu0">2008</span>, <span class="nu0">10</span>, <span class="nu0">12</span><span class="br0">&#41;</span>.<span class="me1">getTime</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span>,
      <span class="kw1">new</span> Email<span class="br0">&#40;</span> <span class="st0">&quot;steve&quot;</span>, <span class="kw1">new</span> <span class="kw3">GregorianCalendar</span><span class="br0">&#40;</span><span class="nu0">2008</span>, <span class="nu0">10</span>, <span class="nu0">17</span><span class="br0">&#41;</span>.<span class="me1">getTime</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span>,
      <span class="kw1">new</span> Email<span class="br0">&#40;</span> <span class="st0">&quot;john&quot;</span>,  <span class="kw1">new</span> <span class="kw3">GregorianCalendar</span><span class="br0">&#40;</span><span class="nu0">2008</span>, <span class="nu0">10</span>, <span class="nu0">13</span><span class="br0">&#41;</span>.<span class="me1">getTime</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#41;</span>
    <span class="br0">&#125;</span><span class="sy0">;</span>
&nbsp;
    Comparator<span class="sy0">&lt;</span>Email<span class="sy0">&gt;</span> cmp_from <span class="sy0">=</span> <span class="kw1">new</span> Comparator<span class="sy0">&lt;</span>Email<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
      @Override
      <span class="kw1">public</span> <span class="kw4">int</span> compare<span class="br0">&#40;</span>Email lhs, Email rhs<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> lhs.<span class="me1">from</span>.<span class="me1">compareTo</span><span class="br0">&#40;</span>rhs.<span class="me1">from</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="br0">&#125;</span>
    <span class="br0">&#125;</span><span class="sy0">;</span>
&nbsp;
    Comparator<span class="sy0">&lt;</span>Email<span class="sy0">&gt;</span> cmp_time <span class="sy0">=</span> <span class="kw1">new</span> Comparator<span class="sy0">&lt;</span>Email<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
      @Override
      <span class="kw1">public</span> <span class="kw4">int</span> compare<span class="br0">&#40;</span>Email lhs, Email rhs<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> lhs.<span class="me1">time</span>.<span class="me1">compareTo</span><span class="br0">&#40;</span>rhs.<span class="me1">time</span><span class="br0">&#41;</span><span class="sy0">;</span>
      <span class="br0">&#125;</span>
    <span class="br0">&#125;</span><span class="sy0">;</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span> <span class="st0">&quot;----------------- before&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">for</span> <span class="br0">&#40;</span>Email e<span class="sy0">:</span> E<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>e<span class="br0">&#41;</span><span class="sy0">;</span> <span class="br0">&#125;</span>
&nbsp;
    <span class="kw3">Arrays</span>.<span class="me1">sort</span><span class="br0">&#40;</span>E, cmp_time<span class="br0">&#41;</span><span class="sy0">;</span>  <span class="co1">// sort by time</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span> <span class="st0">&quot;----------------- sorted by time&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">for</span> <span class="br0">&#40;</span>Email e<span class="sy0">:</span> E<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>e<span class="br0">&#41;</span><span class="sy0">;</span> <span class="br0">&#125;</span>
&nbsp;
    <span class="kw3">Arrays</span>.<span class="me1">sort</span><span class="br0">&#40;</span>E, cmp_from<span class="br0">&#41;</span><span class="sy0">;</span>  <span class="co1">// sort by from</span>
&nbsp;
    <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span> <span class="st0">&quot;----------------- sorted by from&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">for</span> <span class="br0">&#40;</span>Email e<span class="sy0">:</span> E<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">&#40;</span>e<span class="br0">&#41;</span><span class="sy0">;</span> <span class="br0">&#125;</span>
  <span class="br0">&#125;</span></pre></div>
The output of this program lookes like this:
<pre>
----------------- before
bob : Wed Nov 19 00:00:00 GMT-05:00 2008
john : Sat Nov 15 00:00:00 GMT-05:00 2008
steve : Fri Nov 14 00:00:00 GMT-05:00 2008
john : Tue Nov 18 00:00:00 GMT-05:00 2008
bob : Sun Nov 16 00:00:00 GMT-05:00 2008
bob : Wed Nov 12 00:00:00 GMT-05:00 2008
steve : Mon Nov 17 00:00:00 GMT-05:00 2008
john : Thu Nov 13 00:00:00 GMT-05:00 2008
----------------- sorted by time
bob : Wed Nov 12 00:00:00 GMT-05:00 2008
john : Thu Nov 13 00:00:00 GMT-05:00 2008
steve : Fri Nov 14 00:00:00 GMT-05:00 2008
john : Sat Nov 15 00:00:00 GMT-05:00 2008
bob : Sun Nov 16 00:00:00 GMT-05:00 2008
steve : Mon Nov 17 00:00:00 GMT-05:00 2008
john : Tue Nov 18 00:00:00 GMT-05:00 2008
bob : Wed Nov 19 00:00:00 GMT-05:00 2008
----------------- sort by from
bob : Wed Nov 12 00:00:00 GMT-05:00 2008
bob : Sun Nov 16 00:00:00 GMT-05:00 2008
bob : Wed Nov 19 00:00:00 GMT-05:00 2008
john : Thu Nov 13 00:00:00 GMT-05:00 2008
john : Sat Nov 15 00:00:00 GMT-05:00 2008
john : Tue Nov 18 00:00:00 GMT-05:00 2008
steve : Fri Nov 14 00:00:00 GMT-05:00 2008
steve : Mon Nov 17 00:00:00 GMT-05:00 2008
</pre>
<h4>Stable sort</h4>
In the above example, the first sort orders the entries by time, 
the second sort orders by name. 
The fact that the entries which have the
same name are still ordered by time means that the sorting algorithm
used by Java is <i>stable</i>.
<p></p>
A stable sorting algorithm is one in which equal element retain their
same relative ordering. In our case, all the "<tt>bob</tt>" elements which
were ordered by time are equal with respect to sorting by 
the <tt>from</tt> field, and
they are still ordered by <tt>time</tt> afterwards.
<p></p>
This stability feature is implicitly used in virtually every User Interface
program which allows the user to list elements according to different
characteristics.

<? if (false): ?>
We will see that the <i>heapsort</i> algorithm, is both <b>stable</b>
and <b>fast</b>; this is what Java prefers as its sorting algorithm.

If you take a close look at the sort of <tt>L</tt>, you'll notice the values:
<pre>
L:               [(T,16),        (I,16),                        (N,16)]
L sorted by num: [                      (T,16), (I,16), (N,16),       ]
</pre>
With respect to comparison by the integer value, the three
<tt>Pair</tt> objects <tt>(T,16)</tt>, <tt>(I,16)</tt>, <tt>(N,16)</tt>
are equal. In the sorted list, they retain their same relative
order, even
though it is not strictly necessary simply to be sorted.
<p></p>
This maintenance of the same relative order of equals 
is an import feature of a sorting algorithm; a
sorting algorithm which achieves this property
is said to be <i>stable</i>.
A stable sort gives meaningful output to sorting records
on multiple keys with multiple passes of the sorting algorithm.
<p></p>
<? endif ?>

</div><!--content-->


<script type="text/javascript" src="/javascript/jquery-1.6.4.min.js"></script>
<script type="text/javascript" src="/~rkline/js/init.js"></script>




<p></p>
<div style="font-size:80%;line-height:13px;padding-bottom:5px;">
<hr />
<span style='float:right'>&copy; Robert M. Kline</span>
<div class='print_hide'>
&nbsp;
<div>
</div>

</body>
</html>